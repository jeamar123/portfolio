!function(_){_.fn.lazydatepicker=function(a){var e=_(this),m=[],s=null,o=15,y=_.extend({parentClass:"lazy-date-picker-initialized",theme:"default-theme",date:moment(),format:"MMMM DD, YYYY",weekStartSunday:!0,showHeader:!0},a),v={month:moment(y.date,y.format).format("MMM"),day:moment(y.date,y.format).format("ddd"),date:moment(y.date,y.format).format("D"),year:moment(y.date,y.format).format("YYYY"),full:moment(y.date,y.format).format(y.format)},f=null,t="",n="",i=!1;function l(){_("body").find("*").each(function(){_(this).off("click")}),_("html").click(function(a){0===_(a.target).parents("."+y.parentClass).length&&(p(),Y(),k(),w(),d(v.year))}),e.click(function(){1==i?(i=!1,z()):(i=!0,_(f).toggle())}),_(".month-left-arrow").click(function(a){v.full=moment(v.full).subtract(1,"month").format(y.format),c(),r(),h(),l()}),_(".month-right-arrow").click(function(a){v.full=moment(v.full).add(1,"month").format(y.format),c(),r(),h(),l()}),_(".lazy-week div").click(function(a){var e;""!=_(this).text()&&(_(".lazy-week div").removeClass("active"),_(this).addClass("active"),e=_(this).text(),v={month:moment(v.month+" "+e+", "+v.year,"MMM D, YYYY").format("MMM"),day:moment(v.month+" "+e+", "+v.year,"MMM D, YYYY").format("ddd"),date:moment(v.month+" "+e+", "+v.year,"MMM D, YYYY").format("D"),year:moment(v.month+" "+e+", "+v.year,"MMM D, YYYY").format("YYYY"),full:moment(v.month+" "+e+", "+v.year,"MMM D, YYYY").format(y.format)},h(),u())}),_(".select-month-left-arrow").click(function(a){v.full=moment(v.full).subtract(1,"year").format(y.format),c(),r(),h(),l()}),_(".select-month-right-arrow").click(function(a){v.full=moment(v.full).add(1,"year").format(y.format),c(),r(),h(),l()}),_(".lazy-month-row .lazy-month").click(function(a){_(".lazy-month-row .lazy-month").removeClass("active"),_(this).addClass("active"),k(),Y()}),_(".select-year-left-arrow").click(function(a){d(s-o),l()}),_(".select-year-right-arrow").click(function(a){d(s+o),l()}),_(".lazy-year-row .lazy-year").click(function(a){var e;_(".lazy-year-row .lazy-year").removeClass("active"),_(this).addClass("active"),e=_(this).text(),v={month:moment(v.month+" "+v.day+", "+e,"MMM D, YYYY").format("MMM"),day:moment(v.month+" "+v.day+", "+e,"MMM D, YYYY").format("ddd"),date:moment(v.month+" "+v.day+", "+e,"MMM D, YYYY").format("D"),year:moment(v.month+" "+v.day+", "+e,"MMM D, YYYY").format("YYYY"),full:moment(v.month+" "+v.day+", "+e,"MMM D, YYYY").format(y.format)},w(),M(),r(),h(),l()}),_(".month-center-selection").click(function(a){_(f).find(".lazy-datepicker-container").hide(),M()}),_(".select-month-center-selection").click(function(a){k(),_(f).find(".lazy-datepicker-years-container").show()}),_(".btn-set").click(function(a){u(),z()}),_(".btn-cancel").click(function(a){z()})}function r(){var a=moment(v.full),e=_(f).find(".lazy-weekdates"),t=a.daysInMonth(),n=a.startOf("month").format("d"),i=0,l=0,r=1,d="",s=1==y.weekStartSunday?n:n-1;for(e.html("");i!=t;){i++;var o=moment(a).format("ddd");if(0==l&&(d+='<div class="lazy-week">',1==i))for(var c=0;c<s;c++)d+='<div style="cursor: default;"></div>',l++;for(c=0;c<m.length;c++)o==m[c]&&(v.date==r?d+='<div class="active"><span>'+r+"</span></div>":d+="<div><span>"+r+"</span></div>",r++,l++);if(7==l||i==t){if(i==t)for(c=0;c<7-l;c++)d+='<div style="cursor: default;"></div>';d+="</div>",e.append(d),d="",l=0}}}function d(a){s=null;var e=_(f).find(".lazy-years-container"),t=parseInt(a),n=a%100,i=1,l="",r=(s=t-n+(o=15)*parseInt(n/o))+o,d=s;for(e.html(""),_(f).find(".lazy_current_year_range").text(s+1+" - "+r);d<r;)1==i&&(l+='<div class="lazy-year-row">'),++d==v.year?l+='<div class="lazy-year active">'+d+"</div>":l+='<div class="lazy-year">'+d+"</div>",6==++i&&(l+="</div>",e.append(l),l="",i=1)}function c(){v.month=moment(v.full).format("MMM"),v.day=moment(v.full).format("ddd"),v.date=moment(v.full).format("D"),v.year=moment(v.full).format("YYYY")}function h(){"Invalid date"==v.full?console.log("Error : Invalid date."):(_(f).find(".lazy-datepicker-header .lazy_year_selected").text(v.year),_(f).find(".lazy-datepicker-header .lazy_month_selected").text(v.month),_(f).find(".lazy-datepicker-header .lazy_week_day_selected").text(v.day),_(f).find(".lazy-datepicker-header .lazy_day_selected").text(v.date),_(f).find(".lazy-datepicker-container .month-center-selection .lazy_current_month").text(v.month),_(f).find(".lazy-datepicker-container .month-center-selection .lazy_current_year").text(v.year),_(f).find(".lazy-datepicker-months-container .select-month-center-selection .lazy_current_year").text(v.year))}function u(){e.val(v.full)}function z(){p(),Y(),k(),w(),d(v.year),l()}function p(){_(f).hide(),i=!1}function Y(){_(f).find(".lazy-datepicker-container").show()}function M(){_(f).find(".lazy-datepicker-months-container").show()}function k(){_(f).find(".lazy-datepicker-months-container").hide()}function w(){_(f).find(".lazy-datepicker-years-container").hide()}1==y.weekStartSunday?(m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t="<div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>"):(m=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],t="<div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div><div>Sun</div>"),0==y.showHeader&&(n="hide-lazy-picker-header"),e.css("cursor","pointer"),e.attr("readonly",""),e.after('<div class="datepicker-container"><div class="lazy-datepicker-header'+n+'"><p class="lazy_year_selected">2016</p><p class="lazy_week_month_day_selected"><span class="lazy_week_day_selected">Fri</span>, <span class="lazy_month_selected">Apr</span> <span class="lazy_day_selected">1</span></p></div><div class="lazy-datepicker-container" ><div class="lazy-datepicker-month-year-select"><div class="month-left-arrow lazy-arrow"><span><i class="fa fa-caret-left"></i></span></div><div class="month-center-selection"><span class="lazy_current_month" style="margin-right: 5px;">April</span> <span class="lazy_current_year">2016</span></div><div class="month-right-arrow lazy-arrow"><span><i class="fa fa-caret-right"></i></span></div></div><div class="lazy-calendar-wrapper"><div class="lazy-weeknames">'+t+'</div><div class="lazy-weekdates"></div></div></div><div class="lazy-datepicker-months-container" style="display: none"><div class="lazy-months-header"><div class="select-month-left-arrow lazy-arrow"><span><i class="fa fa-caret-left"></i></span></div><div class="select-month-center-selection"><span class="lazy_current_year">2016</span></div><div class="select-month-right-arrow lazy-arrow"><span><i class="fa fa-caret-right"></i></span></div></div><div class="lazy-months-container"><div class="lazy-month-row"><div class="lazy-month">Jan</div><div class="lazy-month">Feb</div><div class="lazy-month">Mar</div><div class="lazy-month">Apr</div></div><div class="lazy-month-row"><div class="lazy-month">May</div><div class="lazy-month">Jun</div><div class="lazy-month">Jul</div><div class="lazy-month">Aug</div></div><div class="lazy-month-row"><div class="lazy-month">Sep</div><div class="lazy-month">Oct</div><div class="lazy-month">Nov</div><div class="lazy-month">Dec</div></div></div></div><div class="lazy-datepicker-years-container" style="display: none"><div class="lazy-years-header"><div class="select-year-left-arrow lazy-arrow"><span><i class="fa fa-caret-left"></i></span></div>  <div class="select-year-center-selection"><span class="lazy_current_year_range">2016 - 2030</span></div><div class="select-year-right-arrow lazy-arrow"><span><i class="fa fa-caret-right"></i></span></div>  </div><div class="lazy-years-container"></div></div><div class="btn-container"><button class="btn-cancel">Cancel</button><button class="btn-set">Set</button></div></div>'),e.parent().addClass(y.parentClass),f=e.closest("."+y.parentClass).find(".datepicker-container"),"dark-theme"!=y.theme&&"default-theme"!=y.theme||_(f).addClass(y.theme),r(),d(v.year),_(f).css("width",e.outerWidth()),h(),l()}}(jQuery);